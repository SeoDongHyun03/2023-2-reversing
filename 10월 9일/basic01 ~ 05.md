# basic 1번 #
01.exe를 실행하면 다음과 같은 창들이 나온다.   
<img src="./basic 01/1-1.jpg"> <img src="./basic 01/1-2.jpg">   
그리고 디버깅을 하면 다음과 같은 코드가 나온다.   
<img src="./basic 01/1-3.jpg">   
여기서 **call <JMP&GetDriveTypeA>** 을 실행한 return 값(EAX)가 3이다.   
<img src="./basic 01/1-4.jpg">   
**0040101D ~ 00401023**을 보면 **EAX -= 2, ESI += 3**이 되는걸 알 수 있다.   
그리고 **cmp eax, esi**와 **je** 명령어를 통해 **EAX, ESI가 같아야** 원하는 정답을 얻을 수 있다는 것을 알 수 있다.   
따라서 나 같은 경우에는 **EAX를 00401005**로 바꾸었다.   
<img src="./basic 01/1-5.jpg">   
EAX를 바꾸고 **0040101D ~ 00401026**의 명령어들을 실행하면, 다음과 같은 정답임을 알려주는 창이 뜬다.   
<img src="./basic 01/1-6.jpg">   

# basic 2번 #
02.exe를 실행하면 다음과 같은 창이 나온다.  
<img src="./basic 02/2-1.jpg">   
문제에 적혀있는 것처럼, 실행파일에 손상이 있다. 즉, 우리가 사용하는 디버거로 문제를 풀 수 없습니다.   
그래서 검색해본 결과 **헥스에디터**라는 프로그램을 사용해야 한다고 해서 설치 후 사용했습니다.(https://m.blog.naver.com/dmsdl814/221951055766 참고했습니다.)  
<img src="./basic 02/2-2.jpg">   
프로그램을 실행해보니, 왼쪽에는 16진수가 나오는 것 같고, 오른쪽에는 decode한 결과를 적은 것 같다.  
<img src="./basic 02/2-3.jpg">  
파일을 분석하던 중, 어셈블리어와 같이 해석된 결과를 볼 수 있었다.  
<img src="./basic 02/2-4.jpg">  
계속 찾던 중, 영어 문장 같은 게 보였다. "Nope, try again!.", "Yeah, you did it!. Crackme #1." 이 보였고, 마지막에 **JK3FJZh**가 있었다.  
뭔가 "Nope, try again!."은 실패했을 때 나올 문구인것 같고, "Yeah, you did it!. Crackme #1."은 성공했을 때 나올 문구처럼 보였다.  
그리고 JK3FJZh는 마지막에 성공한 후, 비밀번호를 주는 것 같았다.  
따라서 **JK3FJZh** 가 우리가 원하는 정답인 비밀번호라고 할 수 있다.  

# basic 3번 #
처음에 03.exe를 실행하니까, 아래와 같은 창이 나왔다.  
<img src="./basic 03/3-1.jpg"> <img src="./basic 03/3-2.jpg">  
정확히 무슨 뜻인지는 모르겠지만, 뭔가 느낌 상 비밀번호를 입력하는 것 같았다. 그래서 아무거나 입력했더니 아래와 같은 창이 나왔다.  
<img src="./basic 03/3-3.jpg">  
뭔가 틀렸다는 창 같다. 우선 basic 3번의 문제는 비주얼베이직에서 스트링 비교함수 이름을 찾는 것이기 때문에, 비밀번호를 입력하고, 올바른 비밀번호인지 비교하는 함수를 찾으면 될 것 같다. 그런데 코드를 디버깅하려고 x64dbg를 켰는데, 너무 길어서 찾기가 힘들었다.  
그래서 찾아봤는데 x64dbg에 **함수를 모아서 찾을 수 있는 기능**이 있다고 해서 사용해봤다.(https://jaeseokim.tistory.com/15 참고)  
<img src="./basic 03/3-4.jpg">  
이 과정을 거치면, 엄청 많은 함수들이 나온다. 여기서 str이 간간히 보여서 'str이 문자열이겠구나' 싶어서, str만 나오게 필터링을 했다.  
<img src="./basic 03/3-5.jpg">  
그리고 살펴보고 있었는데, **vbaStrCmp** 라는 함수를 찾았다. 정확히는 모르겠지만 cmp가 같은 지 비교하는 함수이기 때문에, StrCmp가 문자열을 비교하는 함수라고 생각하고 그 함수가 있는 곳으로 갔다.  
<img src="./basic 03/3-6.jpg">  
위에 **2G83G35Hs2**가 뜬금없이 있어서 봤는데, 위에 push가 있는 걸로 봐서 내가 입력한 값이랑 비교하는 것 같다고 생각했다.  
그래서 비밀번호 입력하는 창에 **2G83G35Hs2**를 입력했다.  
<img src="./basic 03/3-7.jpg">  
비밀번호가 맞았다. 즉, 비주얼베이직에서 스트링 비교함수 이름은 **vbaStrCmp**라고 생각한다.  

# basic 4번 #
04.exe를 실행하면 다음과 같이 cmd 창이 나온다.  
<img src="./basic 04/4-1.jpg">  
**정상** 이라는 글이 반복적으로 출력이 된다. 그렇다면 디버깅을 하면 어떻게 출력되는지 보았다.  
<img src="./basic 04/4-4.jpg">  
**디버깅 당함** 이라는 글이 반복적으로 출력된다.   
이 문제는 디버거를 탐지하는 함수의 이름은 무엇인지 물어봤으므로, 아까 basic 03처럼 풀 수 있다고 생각했다. 그래서 마찬가지로 함수를 찾아보았다.  
<img src="./basic 04/4-2.jpg">  
**IsDebuggerPresent** 라는 함수가 있어서 그 함수가 있는 곳으로 갔다.  그래서 디버깅했는데, 계속 while문 처럼 반복이 되었다. 그래서 이 함수가 디버깅을 탐지하는 함수라고 판단했다.  
그래서 어떤 방식으로 탐지하는 지 살펴보았다.  
<img src="./basic 04/4-3.jpg">  
우선 **IsDebuggerPresent**를 실행하면, **EAX에 1**이 들어간다. 그리고 밑에 **test eax, eax** 라는 명령어가 있는데, 새로운 명령어여서 찾아봤다.  
* test a, b : **a & b == 0 -> ZF = 1**
즉, eax가 0이면, test eax, eax에 의해 ZF = 1이 들어간다. 현재 eax는 1이므로, 밑의 **je 04.40107E**에서 그냥 다음 명령어를 실행하면, **디버깅 당함**이라는 문자열을 출력하게 되어있다.
그렇다면 eax를 0으로 바꾼다면 어떻게 될까?
<img src="./basic 04/4-5.jpg">
eax를 0으로 바꾸고나서 실행을 했더나, test eax, eax에 의해 ZF = 1이 들어가고, **je 04.40107E**에 의해 jump하면, **정상** 이라는 문자열이 출력된다.
<img src="./basic 04/4-6.jpg">
결론적으로 디버거를 탐지하는 함수의 이름은 **IsDebuggerPresent**이다.  

# basic 5번 #
